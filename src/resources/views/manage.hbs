<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/manage/manage.css">
    <link rel="stylesheet" href="/header/header.css">
</head>

<body>
    {{>header}}
    <div class="content">
        <div class="option">
            <h2>Trang điều hành Admin</h2>
            <ul>
                <li class="list-option account">
                    <h4 onclick="showOption(event)">Quản lý tài khoản </h4>
                    <div onclick="showOption(event)" class="fa fa-angle-down"></div>
                    <ul class="list-inner drop-down-option">
                        <li>
                            <span onclick="chooseOption(0, 0)">Chủ trọ chờ phê duyệt</span>
                        </li>
                        <li>
                            <span onclick="chooseOption(0, 1)">Chủ trọ đã duyệt</span>
                        </li>
                        <li>
                            <span onclick="chooseOption(0, 2)">Chủ trọ đã từ chối</span>
                        </li>
                        <li>
                            <span onclick="chooseOption(0, 3)">Người thuê trọ</span>
                        </li>
                    </ul>
                </li>
                <li class="list-option post">
                    <h4 onclick="showOption(event)">Quản lý bài viết</h4>
                    <div onclick="showOption(event)" class="fa fa-angle-down"></div>
                    <ul class="list-inner">
                        <li>
                            <span onclick="chooseOption(0, 4)">Bài viết chờ
                                duyệt</span>
                        </li>
                        <li>
                            <span onclick="chooseOption(0, 5)">Bài viết đã duyệt</span>
                        </li>
                        <li>
                            <span onclick="chooseOption(0, 6)">Bài viết đã xóa</span>
                        </li>
                    </ul>
                </li>
                <li class="">
                    <h4 onclick="chooseOption(0, 7)">Thống kê</h4>
                </li>
                <li class="message">
                    <h4 onclick="chooseOption(1, 8)">Tin nhắn</h4>
                </li>
            </ul>
        </div>


        <div class="list-side">
            <div class="tab-option">
                <div class="table-side">
                    <div class="title">
                        <h1></h1>
                    </div>
                    <div class="list-items">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="detail-side">
                </div>
            </div>

            <div class="tab-option none">
                <div class="message-side">
                    <div class="title">
                        <h1></h1>
                    </div>
                    <div class="room-chat">
                        <div class="accounts">
                            <div class="search">
                                <i class="fa fa-search"></i>
                                <input type="text" placeholder="TÌm kiếm với tên đăng nhập" name="search">
                            </div>
                            <ul>
                            </ul>
                        </div>
                        <div class="chat-side">
                            <h3>Nguyễn Anh Tú</h3>
                            <div class="chat-area">
                                <ul>
                                </ul>
                            </div>
                            <div class="input-chat">
                                <input autocomplete="off" type="text" onkeydown="getEnter(event)"
                                    placeholder="Nhập đoạn chat" name="message">
                                <i onclick="submitMessage(event)" class="fa fa-paper-plane"></i>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="detail-side">
                    <h1>Thông tin tài khoản</h1>
                    <ul id="info-chat">
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="/manage/manage.js"></script>
    <script src="/header/header.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"
        integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ=="
        crossorigin="anonymous"></script>
    
    <script>
        var socket = io('http://localhost:3000');
        function actionAdmin(type, action, bigOption, innerOption) {
            var checked = 0;
            if (action == 'accept') {
                checked = 1;
            } else if (action == 'reject') {
                checked = -1;
            } else {
                checked = 0;
            }
            var data = {
                status: checked,
                type: type,
                id: document.querySelectorAll('.detail-side ul li span')[0].innerText,
            }
            if (document.querySelectorAll('.detail-side ul li span')[0].innerText.length) {
                fetch('/account/action-admin', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                })
                socket.emit('Client-sent-notification', document.querySelectorAll('.detail-side ul li span')[10]?document.querySelectorAll('.detail-side ul li span')[10].innerText:data.id)
                
                //phe duyet bai viet

                chooseOption(bigOption, innerOption);
                
            }
        }
    </script>
</body>

</html>